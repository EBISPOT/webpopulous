<!DOCTYPE html>
<html>
<head>
    <title>Populous REST API test page</title>


    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.22/jquery-ui.min.js"></script>


</head>
<body>


<form action="/" id="searchForm">
    <input type="text" id="s" placeholder="Search...">
    <input type="submit" value="Search" onclick="submitData()">
</form>
<!-- the result of the search will be rendered inside this div -->
<div id="result"></div>

</body>

<script>


     function submitData(){

    // Attach a submit handler to the form
  //  $( "#searchForm" ).submit(function( event ) {

//        // Stop form from submitting normally
//        event.preventDefault();
//
//        // Get some values from elements on the page:
//        var $form = $( this ),
        var data = $("#s").val();
    //    var url = "http://localhost:8080/webulous/api/data/all";


        console.log(data);
     //   console.log(url);
//
//        // Send the data using post
//        var posting = $.post( url, term);
//
//        // Put the results in a div
//        posting.done(function( data ) {
//            var content = $( data ).find( "#content" );
//            $( "#result" ).empty().append( content );
//        });

//        $.postJSON = function(url, data, callback) {
            $.ajax({
                headers: {
                    'Accept': 'application/json',
                    'Content-Type': 'application/json'
                },
                'type': 'POST',
                'url': '/api/data/all',
                'data': JSON.stringify(data),
                'dataType': 'json'//,
      //          'success': callback
            }).done(function(msg){
               alert(msg);
                console.log(msg);
            });

       // };

        console.log(callback);
//
//        console.log($.postJSON().toString);


     };
</script>
</html>